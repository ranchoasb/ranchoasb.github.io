<!DOCTYPE html>
<html lang="en">

<head>
    <title>Rancho ASB Website | Rancho S.J. Middle School ASB</title>

    <base target="_blank">
    
    <!-- Meta Tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Rancho ASB">
    <meta name="description" content="A homepage for Rancho plebeians.">

    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.png">

    <link rel="stylesheet" href="https://unpkg.com/js-datepicker/dist/datepicker.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="786051960466-7froki4slf68hqug865502qiugj091um.apps.googleusercontent.com">
</head>

<body>
    <!-- ======================= Header START -->
    <header class="navbar-light fixed-top header-static bg-mode">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Itim&display=swap" rel="stylesheet">
        <!-- Logo Nav START -->
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <!-- Logo START -->
                <a class="navbar-brand" href="">
                    <img class="light-mode-item navbar-brand-item" src="assets/images/navbar.png" alt="logo">
                    <img class="dark-mode-item navbar-brand-item" src="assets/images/navbar.png" alt="logo">
                </a>
                <!-- Logo END -->

                <!-- Responsive navbar toggler -->
                <button class="navbar-toggler ms-auto icon-md btn btn-light p-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-animation">
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                </button>

                <!-- Main navbar START -->
                <div class="collapse navbar-collapse" id="navbarCollapse">

                    <!-- Nav Search START -->
                    <div class="nav mt-3 mt-lg-0 flex-nowrap align-items-center px-4 px-lg-0">
                        <div class="nav-item w-100">
                            <div class="rounded position-relative">
                                <input class="form-control ps-5 bg-light" placeholder="Search..." aria-label="Search" id="searchinput">
                                <button class="btn bg-transparent px-2 py-0 position-absolute top-50 start-0 translate-middle-y" onclick="search()">
                                    <div style="transform:rotate(270deg);font-size:2rem!important">⌕</div>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="nav mt-3 mt-lg-0 flex-nowrap align-items-center px-4 px-lg-0" style="margin-left:10px;font-weight:600"><a href="javascript:void(0)" class="nav-link" data-bs-toggle="modal" data-bs-target="#searchoptionsmodal" id="searchoptionslink">Search Options</a></div>
                    <div id="navbarhtml"></div>
                    <script>
                        function onSignIn(googleUser) {
                            var profile = googleUser.getBasicProfile();
                            console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
                            console.log('Name: ' + profile.getName());
                            console.log('Image URL: ' + profile.getImageUrl());
                            console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
                            const elem = document.getElementById("loginbutton");
                            elem.innerHTML = '<a href="#" onclick="signOut();">Logout</a>';
                            alert("Hi");
                            if (profile.gethd()=='iusd.org'){
                                domainIUSD = true;
                                alert("Welcome");
                          }
                        function signOut() {
                            var auth2 = gapi.auth2.getAuthInstance();
                            auth2.signOut().then(function () {
                            console.log('User signed out.');
                            domainIUSD = false;
                            const elem = document.getElementById("loginbutton");
                            elem.innerHTML = '<a href="https://accounts.google.com/o/oauth2/auth/oauthchooseaccount?redirect_uri=storagerelay%3A%2F%2Fhttps%2Franchoasb.org%3Fid%3Dauth982270&response_type=permission id_token&scope=email profile openid&openid.realm&include_granted_scopes=true&client_id=786051960466-7froki4slf68hqug865502qiugj091um.apps.googleusercontent.com&ss_domain=https%3A%2F%2Franchoasb.org&fetch_basic_profile=true&gsiwebsdk=2&service=lso&o2v=1&ddm=0&flowName=GeneralOAuthFlow" id="loginbutton">Login</a>'
                            }
                        function init() {
                            gapi.load('auth2', function() {
                          });
                        }
                        var settings = {
                            client_id : '786051960466-7froki4slf68hqug865502qiugj091um.apps.googleusercontent.com' 
                            ux_mode : 'redirect' 
                            redirect_uri : 'https://ranchoasb.org' 
                        }
                        GoogleAuth = gapi.auth2.init(settings);
                        if (GoogleAuth.isSignedIn.get()){
                            const elem = document.getElementById("loginbutton");
                            elem.innerHTML = '<a href="#" onclick="signOut();">Logout</a>';
                        }
                        if (profile.gethd()=='iusd.org'){
                            var domainIUSD = true;
                        }
                        else {
                            var domainIUSD = false;
                    </script>
                    <div class="g-signin2" style="margin-right:10px;font-weight:600" data-onsuccess="onSignIn">
                    <a href="https://accounts.google.com/o/oauth2/auth/oauthchooseaccount?redirect_uri=storagerelay%3A%2F%2Fhttps%2Franchoasb.org%3Fid%3Dauth982270&response_type=permission id_token&scope=email profile openid&openid.realm&include_granted_scopes=true&client_id=786051960466-7froki4slf68hqug865502qiugj091um.apps.googleusercontent.com&ss_domain=https%3A%2F%2Franchoasb.org&fetch_basic_profile=true&gsiwebsdk=2&service=lso&o2v=1&ddm=0&flowName=GeneralOAuthFlow" id="loginbutton">
                        Login
                    </a>
                    </div>
                </div>
                <!-- Main navbar END -->
            </div>
        </nav>
        <!-- Logo Nav END -->
    </header>
    <!-- ======================= Header END -->

    <!-- **************** MAIN CONTENT START **************** -->
    <main>

        <!-- Container START -->
        <div class="container">
            <div class="row g-4">

                <!-- Sidenav START -->
                <div class="col-lg-3" style="margin-top:-56px">

                    <!-- Navbar START-->
                    <nav class="navbar-expand-lg mx-0 sticky-top" style="top:80px">
                        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasSideNavbar" style="margin-top:80px">
                            <!-- Offcanvas header -->
                            <div class="offcanvas-header">
                                <button type="button" class="btn-close text-reset ms-auto" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                            </div>

                            <!-- Offcanvas body -->
                            <div class="offcanvas-body d-block px-2 px-lg-0">
                                
                                <!-- Card START -->
                                <div class="card">
                                    <!-- Card header START -->
                                    <div class="card-header border-0">
                                        <h5 class="card-title mb-0">Upcoming&nbsp;&nbsp;Events</h5>
                                    </div>
                                    <!-- Card header END -->
                                    <!-- Card body START -->
                                    <div class="card-body">
                                        <ul id="upcomingEvents"></ul>
                                    </div>
                                    <!-- Card body END --> 
                                    <!-- Card header START -->
                                    <div class="card-header border-0" style="display:none">
                                        <h5 class="card-title mb-0"><a href="past-events"></a></h5>
                                    </div>
                                    <!-- Card header END -->
                                </div>
                                <!-- Card END -->
                                <br style="display:block;content:'';margin-top:1.5rem">
                                <!-- Card START -->
                                <div class="card overflow-hidden">
                                    <!-- Cover image -->
                                    <div class="h-50px" style="background-image:url(assets/images/bg/01.jpg); background-position: center; background-size: cover; background-repeat: no-repeat;"></div>
                                    <!-- Card body START -->
                                    <div class="card-body pt-0">
                                        <div class="text-center">
                                            <!-- Rancho logo -->
                                            <div class="avatar avatar-lg mt-n5 mb-3">
                                                <img class="avatar-img rounded border border-white border-3" src="assets/images/avatar/rancho.png" style="background-color:#1c1641">
                                            </div>
                                            <!-- Info -->
                                            <h5 class="mb-0">Rancho ASB</h5>
                                            <small>Rancho San Joaquin Middle School<br><a href="about"><u>Learn More</u></a></small>
                                        </div>
                                    </div>
                                </div>
                                <!-- Card END -->

                                <!-- Copyright -->
                                <p class="small text-center mt-3">©<span id="copyrightyear"></span> Rancho San Joaquin Middle School, Irvine, California</p>
                            </div>
                        </div>
                    </nav>
                    <!-- Navbar END-->
                </div>
                <!-- Sidenav END -->

                <!-- Main content START -->
                <div class="col-md-8 col-lg-6 vstack gap-4" id="maincontent">
                    <div class="card-link disposable">
                        <div class="card">
                            <!-- Card header START -->
                            <div class="card-header">
                                <div class="d-flex align-items-center justify-content-between">
                                    <div class="d-flex align-items-center">
                                        <!-- Info -->
                                        <div>
                                            <h6 class="card-title mb-0 placeholder-glow" style="display:block;width:500px"><span class="placeholder col-6"></span></h6>
                                            <p class="small mb-0 placeholder-glow"><span class="placeholder col-4"></span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Card header END -->

                            <!-- Card body START -->
                            <div class="card-body">
                                <p class="mb-0 placeholder-glow">
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-6"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-6"></span>
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-5"></span>
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-5"></span>
                                    <span class="placeholder col-5"></span>
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-6"></span>
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-5"></span>
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-4"></span>
                                </p>
                            </div>
                            <!-- Card body END -->

                            <!-- Card footer START -->
                            <div class="card-footer border-0 d-flex justify-content-between align-items-center">
                                <p class="mb-0 placeholder-glow" style="display:block;width:300px"><span class="placeholder col-5"></span></p>
                                <button class="btn btn-primary-soft btn-sm disabled placeholder col-4"></button>
                            </div>
                            <!-- Card footer END -->
                        </div>
                    </div>

                    <div class="card-link disposable">
                        <div class="card">
                            <!-- Card header START -->
                            <div class="card-header">
                                <div class="d-flex align-items-center justify-content-between">
                                    <div class="d-flex align-items-center">
                                        <!-- Info -->
                                        <div>
                                            <h6 class="card-title mb-0 placeholder-glow" style="display:block;width:500px"><span class="placeholder col-6"></span></h6>
                                            <p class="small mb-0 placeholder-glow"><span class="placeholder col-4"></span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Card header END -->

                            <!-- Card body START -->
                            <div class="card-body">
                                <p class="mb-0 placeholder-glow">
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-6"></span>
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-6"></span>
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-5"></span>
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-6"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-2"></span>
                                </p>
                            </div>
                            <!-- Card body END -->

                            <!-- Card footer START -->
                            <div class="card-footer border-0 d-flex justify-content-between align-items-center">
                                <p class="mb-0 placeholder-glow" style="display:block;width:300px"><span class="placeholder col-5"></span></p>
                                <button class="btn btn-primary-soft btn-sm disabled placeholder col-4"></button>
                            </div>
                            <!-- Card footer END -->
                        </div>
                    </div>

                    <div class="card-link disposable">
                        <div class="card">
                            <!-- Card header START -->
                            <div class="card-header">
                                <div class="d-flex align-items-center justify-content-between">
                                    <div class="d-flex align-items-center">
                                        <!-- Info -->
                                        <div>
                                            <h6 class="card-title mb-0 placeholder-glow" style="display:block;width:500px"><span class="placeholder col-6"></span></h6>
                                            <p class="small mb-0 placeholder-glow"><span class="placeholder col-4"></span></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Card header END -->

                            <!-- Card body START -->
                            <div class="card-body">
                                <p class="mb-0 placeholder-glow">
                                    <span class="placeholder col-6"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-5"></span>
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-5"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-6"></span>
                                    <span class="placeholder col-2"></span>
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-6"></span>
                                    <span class="placeholder col-3"></span>
                                    <span class="placeholder col-6"></span>
                                    <span class="placeholder col-6"></span>
                                    <span class="placeholder col-5"></span>
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-4"></span>
                                    <span class="placeholder col-5"></span>
                                    <span class="placeholder col-3"></span>
                                </p>
                            </div>
                            <!-- Card body END -->

                            <!-- Card footer START -->
                            <div class="card-footer border-0 d-flex justify-content-between align-items-center">
                                <p class="mb-0 placeholder-glow" style="display:block;width:300px"><span class="placeholder col-5"></span></p>
                                <button class="btn btn-primary-soft btn-sm disabled placeholder col-4"></button> <!-- maybe we need a col -->
                            </div>
                            <!-- Card footer END -->
                        </div>
                    </div>

                    <!-- Load more button START -->
                    <a role="button" class="btn btn-loader btn-primary-soft disabled" aria-pressed="false" disabled id="loadmorebutton">
                        <span class="load-text">Load more</span>
                        <div class="load-icon">
                            <div class="spinner-grow spinner-grow-sm" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                        </div>
                    </a>
                    <!-- Load more button END -->

                </div>
                <!-- Main content END -->

                <!-- Right sidebar START -->
                <div class="col-lg-3" style="margin-top:-36px">
                    <div class="row g-4 sticky-top">
                        <!-- Card follow START -->
                        <div class="col-sm-6 col-lg-12" style="margin-top:80px">
                            <div class="card">
                                <!-- Card header START -->
                                <div class="card-header border-0">
                                    <h5 class="card-title mb-0">Plan for&nbsp;&nbsp;<input class="form-control" type="text" autocomplete="off" id="date" style="font-family:Inter,sans-serif;width:120px;display:inline;" readonly="readonly"></h5>
                                </div>
                                <!-- Card header END -->
                                <!-- Card body START -->
                                <div class="card-body" style="padding-bottom:0rem">
                                    <p id="schedule"></p>
                                </div>
                                <!-- Card body END -->
                                <!-- Card header START -->
                                <div class="card-header border-0">
                                    <h5 class="card-title mb-0" style="font-size:20px;line-height:1;">Latest Advisement Announcements</h5>
                                </div>
                                <!-- Card header END -->
                                <!-- Card body START -->
                                <div class="card-body">
                                    <p id="announcements"></p>
                                </div>
                                <!-- Card body END -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Right sidebar END -->

            </div> <!-- Row END -->
        </div>
        <!-- Container END -->

    </main>

    <div class="modal" tabindex="-1" id="searchresultsmodal">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Search results</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="searchresultsbody"></div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" tabindex="-1" id="searchoptionsmodal">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Search Options</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="searchoptionsbody">
                    <div class="mb-3">
                        <ul class="list-group">
                            <li class="list-group-item search-options-no-bounds">
                                <input class="form-check-input me-1" type="checkbox" id="beforesearchoptioncheck">
                                <label for="beforesearchoption">Before:</label><input class="form-control" type="text" autocomplete="off" id="beforesearchoption" style="margin-top:5px" disabled readonly>
                            </li>
                            <li class="list-group-item search-options-no-bounds">
                                <input class="form-check-input me-1" type="checkbox" id="aftersearchoptioncheck">
                                <label for="aftersearchoption">After:</label><input class="form-control" type="text" autocomplete="off" id="aftersearchoption" style="margin-top:5px" disabled readonly>
                            </li>
                        </ul>
                    </div>
                    <div class="mb-3">
                        <label for="sortbysearchresults" class="form-label">Sort by</label>
                        <select class="form-select" aria-label="Sort search results by..." id="sortbysearchresults">
                            <option value="relevanceascending" selected>Relevance (ascending)</option>
                            <option value="relevancedescending">Relevance (descending)</option>
                            <option value="dateascending">Date (ascending)</option>
                            <option value="datedescending">Date (descending)</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <!-- **************** MAIN CONTENT END **************** -->

    <!-- Bootstrap JS -->
    <script src="assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/fuse/fuse.js"></script>
    <script src="https://unpkg.com/js-datepicker"></script>
    <script src="assets/js/script.js"></script>
    <script src="assets/js/navbar.js"></script>
    <script src="assets/js/viewcount.js"></script>
    <script>
      const custom = [[8, 29], [8, 30], [8, 31], [9, 1], [9, 5], [9, 6], [4, 19]]; // days on which you want custom text to appear
      const customText = ['Tuesday, August 29, 2023 is a late start reverse day! Go to your sixth period class first. Unlike normal Tuesdays, there will be advisement after third period. School starts at 8:55 AM and ends at 3:00 PM, unless you have Extended Day, in which case it ends at 3:51 PM. Classes are 48 minutes long.',
                          'Wednesday, August 30, 2023: Remember to attend advisement, which is after fourth period. School starts at 8:25 AM and ends at 3:00 PM, unless you have Extended Day, in which case it ends at 3:56 PM. Classes are 53 minutes long.',
                          'Thursday, August 31, 2023 is a late start reverse day! Go to your sixth period class first. Unlike normal Thursdays, there will be advisement after third period. School starts at 8:55 AM and ends at 3:00 PM, unless you have Extended Day, in which case it ends at 3:51 PM. Classes are 48 minutes long.',
                          'Friday, September 1, 2023: Remember to attend advisement, which is after fourth period. School starts at 8:25 AM and ends at 3:00 PM, unless you have Extended Day, in which case it ends at 3:56 PM. Classes are 53 minutes long.',
                          'Tuesday, September 5, 2023 is a late start reverse day! Go to your sixth period class first. Unlike normal Tuesdays, there will be advisement after third period. School starts at 8:55 AM and ends at 3:00 PM, unless you have Extended Day, in which case it ends at 3:51 PM. Classes are 48 minutes long.',
                          'Wednesday, September 6, 2023: Remember to attend advisement, which is after fourth period. School starts at 8:25 AM and ends at 3:00 PM, unless you have Extended Day, in which case it ends at 3:56 PM. Classes are 53 minutes long.',
                          'Friday, April 19, 2024: Remember to attend advisement, which is after first period. School starts at 8:25 AM and ends at 3:00 PM, unless you have Extended Day, in which case it ends at 3:50 PM. Classes are 47 minutes long.',
                          'Thursday, June 6, 2024: Remember to attend advisement, which is after sixth period. School starts at 8:25 AM and ends at 12:30 PM, unless you have Extended Day, in which case it ends at 1:04 PM. Classes are 31 minutes long.'];
      // custom text you want to appear
      const dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
      const monthNames = ["Month numbers start from 1, not 0", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
      const first7 = [[8, 24]]; // first day of 7th grade
      const first8 = [[8, 25]]; // first day of 8th grade
      const min = [[9, 7], [9, 8], [10, 11], [10, 12], [12, 22], [1, 12], [3, 8], [3, 28], [3, 29], [5, 24], [6, 6]]; // minimum days
      const promotion = [[6, 7]]; // 8th grade promotion
      const dayoff = [[9, 4], [10, 16], [11, 10], [1, 15], [2, 16], [2, 19], [3, 11], [5, 27]]; // days off
      const breaks = [[11, 22], [12, 25], [4, 1]]; // the first day of thanksgiving, winter, and spring break
      // defining when thanksgiving break is
      for (let i = 0; i < 3; i++){
        dayoff.push([new Date(new Date(breaks[0][0].toString()+"/"+breaks[0][1].toString()).getTime()+864E5*i).getMonth()+1, new Date(new Date(breaks[0][0].toString()+"/"+breaks[0][1].toString()).getTime()+864E5*i).getDate()]);
      }
      // defining first week of winter break and defining spring break
      for (let i = 0; i < 5; i++){
        dayoff.push([new Date(new Date(breaks[1][0].toString()+"/"+breaks[1][1].toString()).getTime()+864E5*i).getMonth()+1, new Date(new Date(breaks[1][0].toString()+"/"+breaks[1][1].toString()).getTime()+864E5*i).getDate()]);
        dayoff.push([new Date(new Date(breaks[2][0].toString()+"/"+breaks[2][1].toString()).getTime()+864E5*i).getMonth()+1, new Date(new Date(breaks[2][0].toString()+"/"+breaks[2][1].toString()).getTime()+864E5*i).getDate()]);
      }
      // defining second week of winter break and defining spring break
      for (let i = 7; i < 12; i++){
        dayoff.push([new Date(new Date(breaks[1][0].toString()+"/"+breaks[1][1].toString()).getTime()+864E5*i).getMonth()+1, new Date(new Date(breaks[1][0].toString()+"/"+breaks[1][1].toString()).getTime()+864E5*i).getDate()]);
      }
      
      const specialDays = [custom, first7, first8, min, promotion, dayoff];
      const specialDayNames = ["custom", "first7", "first8", "min", "promotion", "dayoff"];
      // introduce the day type
      const info = {first7: "the first day for seventh graders! Eighth graders should not come to school.", first8: "the first day for eighth graders!", min: "a minimum day!", promotion: "the eighth grade promotion! Seventh graders should not come to school.", dayoff: "a day off!", sunday: "a weekend!", monday: "a regular Monday!", tuesday: "a regular Tuesday, a late start reverse day!", wednesday: "a regular Wednesday!", thursday: "a regular Thursday, a late start reverse day!", friday: "a regular Friday!", saturday: "a weekend!"};
      // anything related to the schedule
      const periods = {monday: " Remember to attend advisement, which is after fourth period.", tuesday: " Go to your sixth period class first.", thursday: " Go to your sixth period class first.", first7: " Go to your advisement class first.", first8: " Go to your advisement class first."};
      // when school starts if it's not the usual 8:25 AM
      const start = {tuesday: "8:55 AM", thursday: "8:55 AM", promotion: "8:30 AM"};
      // when school ends if it's not the usual 3:00 PM
      const end = {min: "12:30 PM", promotion: "12:30 PM"};
      // when extended days ends if it's not the usual 4:00 PM
      const extended = {monday: ", unless you have Extended Day, in which case it ends at 3:56 PM", tuesday: ", unless you have Extended Day, in which case it ends at 3:55 PM", thursday: ", unless you have Extended Day, in which case it ends at 3:55 PM", min: ", unless you have Extended Day, in which case it ends at 1:10 PM", first7: ", unless you have Extended Day, in which case it ends at 3:38 PM", first8: ", unless you have Extended Day, in which case it ends at 3:48 PM"};
      // how long periods last
      const period_length = {monday: "53", tuesday: "52", thursday: "52", min: "37", first7: "35", first8: "45"};
    
      // returns the day type
      function dayType(month, day, dayName){
        for (let i = 0; i < specialDays.length; i++){
          for (j of specialDays[i]){
            if (j[0] == month && j[1] == day){
              return specialDayNames[i];
            }
          }
        }
        return dayName.toLowerCase();
      }
        
      // gets schedule for any day
      function get_schedule_for_day(d){
        if (d < 1724167200000) {
          document.getElementById("schedule").textContent = "The 2024 to 2025 school year has not started yet!";
        } else if (d > 1749207600000) {
          document.getElementById("schedule").textContent = "The 2024 to 2025 school year has concluded.";
        } else {
          let month = d.getMonth()+1;
          let day = d.getDate();
          let year = d.getFullYear();
          let dayName = dayNames[d.getDay()];
          let type = dayType(month, day, dayName);
          let result = "";
          if (type == "custom"){
             document.getElementById("schedule").textContent = customText[custom.findIndex(row=>JSON.stringify(row)===JSON.stringify([month,day]))];
             return 0;
          }
          result = `${dayName}, ${monthNames[month]} ${day}, ${year} is ${info[type]}`;
          if (type != "saturday" && type != "sunday" && type != "dayoff"){
            result += `${periods[type] ?? ""} School starts at ${start[type] ?? "8:25 AM"} and ends at ${end[type] ?? "3:00 PM"}${extended[type] ?? ""}.`;
            if (type != "promotion"){
              result += ` Classes are ${period_length[type] ?? "57"} minutes long.`;
            }
          }
          if (dayName == "monday" && type == "min"){
            result += ` There will not be advisement.`;
          }
          document.getElementById("schedule").textContent = result;
          return 0;
        }
      }

      get_schedule_for_day(new Date());
    </script>

    <script>
      datepicker(date, {
        formatter: (i, d, _) => {
          let t = new Date();
          t.setHours(0);
          t.setMinutes(0);
          t.setSeconds(0);
          t.setMilliseconds(0);
          i.value = +t === +d ? "Today" : +t === +d - 24 * 60 * 60 * 1000 ? "Tomorrow" : d.toLocaleDateString();
        },
        dateSelected: new Date(),
        onHide: function () {
          try {
            get_schedule_for_day(new Date(date.value));
          } catch {
            if (date.value == "Today") {
              get_schedule_for_day(new Date());
            } else if (date.value == "Tomorrow") {
              get_schedule_for_day(new Date(new Date().getTime() + 86400000));
            }
          }
        },
      });
</script>
</body>

</html>
